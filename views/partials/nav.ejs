<nav class="flex flex-wrap justify-between items-center py-10 w-full md:w-[80%] mx-auto">
  <!-- Logo -->
  <div class="text-2xl font-extrabold mb-4 md:mb-0">
    S-Social
  </div>

  <!-- Hamburger Icon for Mobile -->
  <div class="md:hidden flex items-center">
    <button id="menuToggle" class="text-2xl">
      â˜°
    </button>
  </div>

  <!-- Navigation Links -->
  <div id="navLinks" class="hidden md:flex flex-col md:flex-row gap-x-10 md:gap-x-10 w-full md:w-auto">
    <% if(user) { %>
    <a class="mb-2 md:mb-0" href="/user/profile">Home</a>
    <a class="mb-2 md:mb-0" href="/post/create">Create Post</a>
    <% } else { %>
    <a class="mb-2 md:mb-0" href="/">Home</a>
    <% } %>
    <a class="mb-2 md:mb-0" href="/about">About</a>
    <a class="mb-2 md:mb-0" href="/contact">Contact</a>

    <% if(user){ %>
    <a class="mb-2 md:mb-0" href="/user/chat">Chat</a>
    <% } %>
  </div>

  <!-- Profile or Login with Avatar -->
  <div class="flex items-center gap-x-4 w-full md:w-auto">
    <% if(user) { %>
    <div class="relative">
      <a href="/user/settings">
        <img class="object-cover rounded-full w-[40px] h-[40px]" src="<%= user.avatar.thumbnailUrl %>" alt="">
      </a>
      <!-- Dropdown menu (hidden by default) -->
      <div id="dropdownMenu" class="hidden absolute right-0 mt-2 w-48 bg-white border border-gray-200 rounded shadow-lg">
        <a href="/user/settings" class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100">Settings</a>
        <a href="/logout" class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100">Logout</a>
      </div>
    </div>
    <% } else { %>
    <a class="bg-green-300 px-5 py-2 rounded w-full md:w-auto text-center" href="/login">Login</a>
    <% } %>
  </div>
</nav>

<script>
  // Toggle menu visibility for mobile
  document.getElementById('menuToggle').addEventListener('click', () => {
    const menu = document.getElementById('navLinks');
    menu.classList.toggle('hidden');
  });

  // Dropdown menu functionality for avatar
  document.querySelector('img').addEventListener('click', () => {
    const dropdown = document.getElementById('dropdownMenu');
    dropdown.classList.toggle('hidden');
  });
</script>
